.topnav{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid var(--border);box-shadow:var(--shadow-sm)}.topnav-inner{max-width:1200px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.brand{display:inline-flex;align-items:center;gap:10px;font-weight:700;color:var(--fg);text-decoration:none}.landing-links,.links{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.landing-links a,.links a{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;text-decoration:none;color:var(--fg);border:1px solid transparent;font-weight:600;font-size:.95rem}.landing-links a:hover,.links a:hover{background:var(--border);text-decoration:none}.landing-links a:focus-visible,.links a:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.links a.active{background:var(--accent);border-color:var(--accent);color:#fff}@media (max-width: 768px){.topnav-inner{justify-content:flex-start}.landing-links,.links{gap:8px}}@media (max-width: 560px){.topnav-inner{flex-direction:column;align-items:flex-start}.landing-links,.links{width:100%}.landing-links a,.links a{width:100%;justify-content:flex-start}}.app-shell{min-height:100vh;display:flex;flex-direction:column}.app-main{flex:1}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:3rem;padding-bottom:2rem;border-bottom:1px solid var(--border)}.header-title-row{display:inline-flex;align-items:center;gap:10px}.header-actions{display:flex;gap:10px;align-items:center}.btn-icon-row{display:inline-flex;align-items:center;gap:8px}.header h1{font-size:2.5rem;margin-bottom:.5rem}.header .subtitle{color:var(--text-secondary);font-size:1.1rem}.projects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.project-card{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:1.5rem;transition:all .2s}.project-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--accent)}.project-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:1rem}.project-header h3{font-size:1.5rem}.project-header button{padding:.5rem .75rem;font-size:.9rem}.project-desc{color:var(--text-secondary);margin-bottom:1.5rem;line-height:1.6}.project-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.badge{background:var(--bg-tertiary);color:var(--accent);padding:.4rem .8rem;border-radius:6px;font-size:.85rem;font-weight:500}.date{color:var(--text-secondary);font-size:.85rem}.btn-annotate{display:block;width:100%;text-align:center;background:var(--accent);color:#fff;padding:.75rem;border-radius:8px;text-decoration:none;font-weight:500;transition:all .2s}.btn-annotate:hover{background:var(--accent-hover);transform:translateY(-1px)}.empty-state{grid-column:1 / -1;text-align:center;padding:4rem 2rem}.empty-state h2{font-size:2rem;margin-bottom:1rem;color:var(--text-secondary)}.empty-state p{color:var(--text-secondary);margin-bottom:2rem}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#1d12338c;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000}.modal{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:2rem;max-width:500px;width:90%;box-shadow:var(--shadow-md)}.projects-controls{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:1.25rem}.projects-controls .left{display:flex;align-items:center;gap:10px;flex:1}.projects-controls .right{display:flex;align-items:center;gap:10px}.projects-controls .sort-select{width:auto;min-width:170px}.modal h2,.form-group{margin-bottom:1.5rem}.form-group label{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-secondary)}.form-actions{display:flex;gap:1rem;margin-top:2rem}.form-actions button{flex:1}.annotate-page{display:grid;grid-template-columns:360px 1fr;height:100vh;overflow:hidden}.sidebar{background:var(--bg-secondary);border-right:1px solid var(--border);padding:1.5rem;overflow-y:auto;display:flex;flex-direction:column;gap:1.5rem}.sidebar-header{padding-bottom:1rem;border-bottom:1px solid var(--border)}.back-link{color:var(--text-secondary);text-decoration:none;display:block;margin-bottom:.5rem;transition:color .2s}.back-link-row{display:inline-flex;align-items:center;gap:8px}.back-link:hover{color:var(--accent)}.sidebar h2{font-size:1.5rem}.section h3{font-size:1rem;color:var(--text-secondary);margin-bottom:1rem;text-transform:uppercase;letter-spacing:.05em}.upload-actions{display:flex;gap:10px;margin-bottom:10px}.file-input{width:100%;padding:.75rem;border:2px dashed var(--border);border-radius:8px;background:var(--bg-tertiary);cursor:pointer;transition:all .2s}.file-input:hover{border-color:var(--accent)}.classes-list{display:flex;flex-direction:column;gap:.5rem}.class-row{display:flex;align-items:center;gap:10px}.class-btn{text-align:left;background:var(--bg-tertiary);border:1px solid var(--border);padding:.75rem;border-radius:6px;transition:all .2s}.class-btn-inner{display:flex;align-items:center;gap:10px}.class-color-dot{width:12px;height:12px;flex:0 0 auto;color:var(--border)}.class-name{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.class-color-input{width:34px;height:24px;padding:0;border:0;background:transparent;cursor:pointer}.class-btn:hover{border-color:var(--accent);background:var(--bg-secondary)}.class-btn.active{background:var(--accent);border-color:var(--accent);color:#fff}.add-class-row{margin-top:.75rem;display:flex;gap:.5rem}.add-class-row input{flex:1;padding:.65rem .75rem;border-radius:8px;border:1px solid var(--border);background:var(--bg-tertiary);color:var(--text-primary)}.add-class-btn{width:42px;display:inline-flex;align-items:center;justify-content:center;border-radius:8px}.selected-box-controls{margin-top:.75rem}.selected-box-controls select{width:100%;padding:.65rem .75rem;border-radius:8px;border:1px solid var(--border);background:var(--bg-tertiary);color:var(--text-primary)}.boxes-list{display:flex;flex-direction:column;gap:.5rem;max-height:180px;overflow-y:auto}.box-row{display:flex;align-items:center;gap:10px;padding:.6rem .65rem;border-radius:8px;background:var(--bg-tertiary);border:1px solid var(--border)}.box-select{flex:1;min-width:0;display:inline-flex;align-items:center;gap:10px;padding:0;border:0;background:transparent;cursor:pointer;color:inherit;text-align:left}.box-row:hover{border-color:var(--accent);background:var(--bg-secondary)}.box-row.active{border-color:#7c3aed59;box-shadow:var(--ring)}.box-color{width:10px;height:10px;flex:0 0 auto;color:var(--border)}.box-name{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.box-delete{background:transparent;border:1px solid var(--border);color:#1d1233d9;padding:.35rem;border-radius:8px}.box-delete:hover{background:#ef44441f;border-color:#ef44444d;transform:none}.controls{display:flex;flex-direction:column;gap:.5rem}.controls button{width:100%;padding:.75rem;display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.hint{color:var(--text-secondary);font-size:.85rem;margin-top:.5rem;font-style:italic}.hint-tight{margin-bottom:6px}.controls-hint-row{display:inline-flex;align-items:center;gap:8px}.images-list{display:flex;flex-direction:column;gap:12px;max-height:300px;overflow-y:auto;padding:6px 8px 6px 2px}.image-item{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:14px;cursor:pointer;transition:all .2s;font-size:.9rem;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.image-item-left{display:flex;align-items:center;gap:10px;min-width:0;flex:1}.image-thumb{width:34px;height:34px;border-radius:10px;object-fit:cover;background:#1d12330f;border:1px solid var(--border);flex:0 0 auto}.image-filename{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#1d1233d6}.image-index{flex:0 0 auto;font-size:12px;font-weight:700;padding:6px 10px;border-radius:999px;background:#7c3aed1a;border:1px solid rgba(124,58,237,.18);color:#1d1233bf}.image-item:hover{border-color:var(--accent);background:var(--bg-secondary)}.image-item.active{background:linear-gradient(135deg,#ec489933,#7c3aed2e 45%,#3b82f62e);border-color:#7c3aed59;box-shadow:var(--ring)}.image-item.active .image-filename{color:#1d1233e6}.workspace{background:var(--bg-primary);display:flex;flex-direction:column;gap:14px;padding:16px;position:relative;overflow:hidden}.canvas-wrap{flex:1;min-height:0;display:flex;align-items:center;justify-content:center}.annotation-canvas{cursor:crosshair}.annotation-canvas.panning{cursor:grabbing}canvas{max-width:100%;max-height:calc(100vh - 260px);border:1px solid var(--border);border-radius:8px;box-shadow:var(--shadow-md)}.bottom-strip{flex:0 0 auto;background:#ffffffc7;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-sm);padding:14px 14px 12px}.bottom-strip-head{display:flex;align-items:center;justify-content:space-between;gap:12px}.bottom-strip-head .status{color:#1d1233d1;font-weight:600}.strip-actions{display:inline-flex;align-items:center;gap:8px}.strip-btn{background:#ffffffd9;color:#1d1233d9;border:1px solid var(--border);border-radius:12px;padding:8px;box-shadow:none;transition:background .15s ease,transform .15s ease}.strip-btn:hover{background:#fffffffa;transform:translateY(-1px)}.bottom-strip-title{margin-top:10px;margin-bottom:12px;color:var(--text-secondary);font-size:.85rem;letter-spacing:.02em;text-transform:uppercase}.bottom-strip-scroller{display:flex;align-items:stretch;gap:16px;overflow-x:auto;padding:2px 2px 10px;scroll-snap-type:x mandatory}.thumb-item{flex:0 0 170px;scroll-snap-align:start;background:#ffffffbf;border:1px solid var(--border);border-radius:16px;padding:10px;text-align:left;color:var(--text-primary);box-shadow:none;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease}.thumb-item:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.thumb-item.active{border-color:#7c3aed73;box-shadow:var(--ring)}.thumb-img{width:100%;height:110px;object-fit:cover;border-radius:14px;background:#1d12330f;display:block}.thumb-name{margin-top:10px;font-size:.82rem;color:#1d1233d1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.empty-workspace{text-align:center}.empty-workspace h2{color:var(--text-secondary);margin-bottom:.5rem}.empty-workspace p{color:var(--text-secondary)}button:disabled{opacity:.5;cursor:not-allowed}button:disabled:hover{transform:none}.images-page{max-width:1200px;margin:0 auto;padding:18px 16px 28px}.images-header{display:flex;align-items:flex-end;justify-content:space-between;gap:16px;margin-bottom:16px}.images-header-actions{display:flex;gap:10px;align-items:center}.images-header h1{margin:0;font-size:22px}.images-page .subtitle{margin:6px 0 0;color:var(--text-secondary)}.images-toolbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:14px 0 16px}.images-toolbar .left{display:flex;align-items:center;gap:10px;flex:1}.images-toolbar .right{display:flex;align-items:center;gap:10px}.sort-select{width:auto;min-width:170px}.select-toggle{background:#ffffffc7;color:var(--text-primary);border:1px solid var(--border);box-shadow:none}.select-toggle:hover{background:#fffffff5}.selection-pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;background:#7c3aed1a;border:1px solid rgba(124,58,237,.18);color:#1d1233c7;font-size:13px}.upload-btn{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:10px;cursor:pointer;background:#ffffffc7;border:1px solid var(--border);color:var(--text-primary);box-shadow:var(--shadow-sm)}.upload-btn:hover{background:#fffffff5}.primary-link-no-margin{margin-top:0}.clear-selection-btn{padding:8px 10px;border-radius:999px}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}.card{overflow:hidden;border-radius:14px;background:#ffffffc7;border:1px solid var(--border);box-shadow:var(--shadow-sm)}.thumb{width:100%;height:170px;object-fit:cover;display:block;background:#1d12330f}.meta{padding:10px;display:flex;align-items:center;justify-content:space-between;gap:10px}.select-check{display:inline-flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:12px;position:absolute;top:10px;left:10px;background:#ffffffd1;border:1px solid var(--border);color:#1d1233d1;box-shadow:var(--shadow-sm)}.card{position:relative}.export-page{max-width:900px;margin:0 auto;padding:18px 16px 28px}.export-header h1{margin:0;font-size:22px}.export-page .subtitle{margin:6px 0 0;color:var(--text-secondary)}.panel{margin-top:16px;border-radius:14px;background:#ffffffc7;border:1px solid var(--border);padding:14px;box-shadow:var(--shadow-sm)}.row{display:flex;align-items:flex-start;justify-content:space-between;gap:14px}.panel-title{margin:0;font-size:16px}.panel-desc{margin:6px 0 0;color:var(--text-secondary)}.primary{display:inline-flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;cursor:pointer}.primary:disabled{opacity:.6;cursor:not-allowed}.classes{margin-top:14px;padding-top:14px;border-top:1px solid var(--border)}.classes-title{font-weight:600;color:var(--text-primary);margin-bottom:8px}.classes-empty{color:var(--text-secondary)}.classes-list{margin:0;padding-left:18px;color:#1d1233db}.multi-page{max-width:1200px;margin:0 auto;padding:18px 16px 28px}.multi-header{display:flex;align-items:flex-end;justify-content:space-between;gap:16px;margin-bottom:16px}.multi-header .left{display:flex;align-items:flex-start;gap:14px}.back{display:inline-flex;align-items:center;gap:8px;text-decoration:none;padding:10px 12px;border-radius:12px;background:#ffffffc7;border:1px solid var(--border);color:var(--text-primary);box-shadow:var(--shadow-sm)}.back:hover{background:#fffffff5}.multi-header h1{margin:0;font-size:22px}.multi-page .subtitle{margin:6px 0 0;color:var(--text-secondary)}.loading{padding:24px 0;color:var(--text-secondary)}.empty{padding:42px 0;text-align:center}.primary-link{display:inline-block;margin-top:12px;padding:10px 12px;border-radius:10px;text-decoration:none;background:linear-gradient(135deg,#ec489929,#7c3aed24 45%,#3b82f624);border:1px solid rgba(124,58,237,.22);color:var(--text-primary)}.multi-grid{display:grid;gap:14px}.multi-grid.cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.multi-grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.multi-grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.multi-card{overflow:hidden;border-radius:16px;background:#ffffffc7;border:1px solid var(--border);box-shadow:var(--shadow-sm);display:flex;flex-direction:column}.multi-thumb{width:100%;height:320px;object-fit:cover;display:block;background:#1d12330f}@media (max-width: 900px){.multi-thumb{height:240px}}.multi-meta{padding:12px;display:flex;align-items:center;justify-content:space-between;gap:10px}.filename{flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#1d1233db}.annotate-link{display:inline-flex;align-items:center;gap:6px;text-decoration:none;color:var(--text-primary);background:#ffffffc7;border:1px solid var(--border);padding:8px 10px;border-radius:10px}.annotate-link:hover{background:#fffffff5}*{margin:0;padding:0;box-sizing:border-box}:root{--bg: #f7f7f9;--fg: #1f2933;--muted: #4b5563;--accent: #ea382b;--card: #ffffff;--border: #e5e7eb;--shadow: 0 8px 24px rgba(15, 23, 42, .08);--radius: 12px;--font: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Segoe UI", Roboto, sans-serif;--bg-primary: var(--bg);--bg-secondary: var(--card);--bg-tertiary: #ffffff;--text-primary: var(--fg);--text-secondary: var(--muted);--accent-hover: #d12f25;--success: #22c55e;--danger: #ef4444;--shadow-sm: var(--shadow);--shadow-md: var(--shadow);--ring: 0 0 0 3px rgba(234, 56, 43, .22)}body{font-family:var(--font);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--bg);color:var(--fg);line-height:1.6}a{color:var(--accent)}button{font-family:inherit;cursor:pointer;border:1px solid var(--accent);outline:none;background:var(--accent);color:#fff;padding:11px 16px;border-radius:10px;font-weight:700;box-shadow:none;transition:filter .15s ease}button:hover{filter:brightness(.95)}button.secondary{background:#fff;color:var(--accent)}button.danger{background:var(--danger);border-color:var(--danger);color:#fff}button:focus-visible{outline:none;box-shadow:var(--ring)}input,textarea,select{font-family:inherit;background:#fff;color:var(--fg);border:1px solid var(--border);padding:.75rem;border-radius:10px;outline:none;width:100%;box-shadow:none}input:focus,textarea:focus,select:focus{border-color:var(--accent);box-shadow:var(--ring)}.container{max-width:1100px;margin:0 auto;padding:32px 20px 60px}
